import{c as f,r as i,j as e,A as j,d as N,L as v,a as w,n as k}from"./index-BqfCj9Cx.js";import{T as y}from"./trending-up-uU0_5pp5.js";import{C as A}from"./clock-VS24zUjI.js";import{B as S}from"./brain-3f--sPLJ.js";import{A as z}from"./arrow-right-BsQnWYLF.js";import{C}from"./calendar-BSOwSEYW.js";import{C as I}from"./circle-check-nzM3eO1E.js";import{I as P}from"./info-BRptETED.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],D=f("wrench",R),G=({api:l,t:L})=>{const[r,x]=i.useState([]),[n,m]=i.useState([]),[b,p]=i.useState(!0),h=async()=>{p(!0);try{const[s,t]=await Promise.all([l.getFailurePredictions(),l.getMaintenanceSchedule()]);x(Array.isArray(s.data)?s.data:[]),m(Array.isArray(t.data)?t.data:[])}catch(s){console.error("Predictive sync failed",s),x([]),m([])}finally{p(!1)}};i.useEffect(()=>{h()},[l]);const g=async s=>{try{await l.approveMaintenance(s),h()}catch{alert("Approval failed")}},u=(()=>{const s=Array.isArray(r)?r:[],t=Array.isArray(n)?n:[],a=s.reduce((d,o)=>d+(o.costOfFailure||0),0),c=t.reduce((d,o)=>d+(o.estimatedCost||0),0);return{savings:a-c,percent:c>0?(a-c)/c*100:0,uptime:99.8}})();return e.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white border border-white/5 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(j,{size:80})}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3 relative z-10",children:"Predicted Risk Nodes"}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("h4",{className:"text-5xl font-black tabular-nums tracking-tighter text-amber-400",children:r.length}),e.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 mb-2",children:"High Confidence"})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm flex flex-col justify-center",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Est. Preventative ROI"}),e.jsxs("div",{className:"flex items-center gap-4 text-emerald-600",children:[e.jsx(y,{size:28}),e.jsxs("h4",{className:"text-3xl font-black tabular-nums tracking-tighter",children:["+",u.percent.toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm flex flex-col justify-center",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Avoided Downtime"}),e.jsxs("div",{className:"flex items-center gap-4 text-blue-600",children:[e.jsx(A,{size:28}),e.jsx("h4",{className:"text-3xl font-black tabular-nums tracking-tighter",children:"142 Hours"})]})]}),e.jsxs("div",{className:"bg-blue-600 p-8 rounded-[2.5rem] shadow-2xl shadow-blue-500/20 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(N,{size:80})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest mb-3 opacity-60",children:"Global Fleet Health"}),e.jsxs("h4",{className:"text-4xl font-black tracking-tighter",children:[u.uptime,"%"]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Autonomous Monitoring Active"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-[0.2em]",children:"Predicted Failure Registry"}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-4 py-2 rounded-xl",children:[e.jsx(S,{size:14,className:"text-blue-600"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"ISO 55000 Certified Logic"})]})]}),b?e.jsx("div",{className:"py-40 flex flex-col items-center justify-center opacity-40 gap-4",children:e.jsx(v,{className:"animate-spin"})}):e.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(s=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] p-8 shadow-sm hover:shadow-xl transition-all group flex flex-col lg:flex-row items-center gap-10 relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-2 h-full ${s.riskScore>80?"bg-rose-500":"bg-amber-500"}`}),e.jsxs("div",{className:"flex items-center gap-8 flex-1 min-w-0",children:[e.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shrink-0 shadow-lg ${s.riskScore>80?"bg-rose-50 text-rose-600":"bg-amber-50 text-amber-600"}`,children:e.jsx(w,{size:36})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-xl font-black text-slate-900 uppercase tracking-tighter truncate",children:s.deviceName}),e.jsxs("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase ${s.riskScore>80?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-600"}`,children:["Risk: ",s.riskScore,"%"]})]}),e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-4",children:["Predicted Failure: ",new Date(s.predictedFailureDate).toLocaleDateString()]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.recommendedActions.map((t,a)=>e.jsxs("span",{className:"px-3 py-1 bg-slate-50 border border-slate-100 rounded-lg text-[9px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-1.5",children:[e.jsx(z,{size:10})," ",t]},a))})]})]}),e.jsxs("div",{className:"flex items-center gap-12 shrink-0 pr-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Conf."}),e.jsxs("p",{className:"text-xl font-black tabular-nums",children:[s.confidence,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Impact"}),e.jsxs("p",{className:"text-xl font-black tabular-nums text-rose-600",children:["$",s.costOfFailure.toLocaleString()]})]}),e.jsx("button",{className:"p-4 bg-slate-900 text-white rounded-2xl hover:bg-black transition-all shadow-xl shadow-slate-900/10",children:e.jsx(D,{size:20})})]})]},s.deviceId))})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3rem] p-10 shadow-sm flex flex-col h-full",children:[e.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest mb-10 flex items-center gap-3",children:[e.jsx(C,{size:20,className:"text-blue-600"})," Maintenance Roadmap"]}),e.jsx("div",{className:"space-y-6 flex-1 max-h-[600px] overflow-y-auto no-scrollbar",children:n.map(s=>{var t;return e.jsxs("div",{className:`p-6 rounded-[2rem] border transition-all ${s.status==="completed"?"bg-slate-50 opacity-40 border-slate-100":"bg-white border-slate-200 group hover:border-blue-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:`px-2 py-1 rounded text-[8px] font-black uppercase tracking-widest ${s.type==="preventive"?"bg-blue-50 text-blue-600":"bg-rose-50 text-rose-600"}`,children:s.type}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 tabular-nums",children:new Date(s.scheduledDate).toLocaleDateString()})]}),e.jsx("h5",{className:"text-sm font-black text-slate-800 uppercase mb-1 truncate",children:((t=r.find(a=>a.deviceId===s.deviceId))==null?void 0:t.deviceName)||"Fleet Node"}),e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-6",children:["Technician: ",s.technician||"Not Assigned"]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-black tabular-nums",children:[e.jsx(k,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-xs",children:s.estimatedCost.toLocaleString()})]}),s.status==="pending"&&e.jsx("button",{onClick:()=>g(s.id),className:"px-4 py-2 bg-slate-900 text-white rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-black transition-all",children:"Authorize"}),s.status==="approved"&&e.jsxs("span",{className:"text-[9px] font-black text-emerald-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(I,{size:12})," Authorized"]})]})]},s.id)})}),e.jsx("div",{className:"mt-10 pt-10 border-t border-slate-100",children:e.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] flex items-start gap-4",children:[e.jsx(P,{size:18,className:"text-blue-600 mt-1"}),e.jsx("p",{className:"text-[10px] font-bold text-blue-700 leading-relaxed uppercase",children:"Preventative actions reduce hardware insurance premiums by up to 14% annually."})]})})]})})]})]})};export{G as default};
