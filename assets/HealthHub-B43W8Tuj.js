import{r as l,j as e,n,L as x,Z as m,T as p,d as h}from"./index-BlS2-adh.js";import{T as b}from"./trending-up-X983Lwjd.js";import{T as u}from"./trending-down-BEcY1IKJ.js";const y=({flockId:r,api:i,t:g,isRtl:f})=>{const[t,d]=l.useState(null),[o,c]=l.useState(!1);return l.useEffect(()=>{(async()=>{if(r!=="all"){c(!0);try{const a=await i.getHealthTrends(r);d(a.data)}catch(a){console.error("Health Hub sync failed",a)}finally{c(!1)}}})()},[r,i]),r==="all"?e.jsxs("div",{className:"h-[40vh] flex flex-col items-center justify-center text-slate-400 opacity-40",children:[e.jsx(n,{size:64,strokeWidth:1}),e.jsx("p",{className:"mt-4 text-xs font-black uppercase tracking-[0.3em]",children:"Select node for clinical health telemetry"})]}):o?e.jsx("div",{className:"h-[40vh] flex items-center justify-center",children:e.jsx(x,{className:"animate-spin text-blue-600",size:40})}):t?e.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Overall Health Score"}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("h4",{className:"text-5xl font-black text-slate-900 tabular-nums",children:t.healthStatus.healthScore}),e.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-500 mb-2",children:t.healthStatus.overall})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Today's Loss Pattern"}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsxs("h4",{className:"text-5xl font-black text-rose-600 tabular-nums",children:["-",t.mortalityMetrics.totalMortality]}),e.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-400 mb-2",children:[t.mortalityMetrics.mortalityRate,"% Rate"]})]})]}),e.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(m,{size:60})}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3 relative z-10",children:"Vaccination Coverage"}),e.jsxs("h4",{className:"text-4xl font-black tabular-nums relative z-10",children:[t.vaccinationStatus.coverage,"%"]}),e.jsx("p",{className:"text-[9px] font-bold text-blue-400 mt-2 relative z-10 uppercase tracking-widest truncate",children:t.vaccinationStatus.vaccineType})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm flex flex-col justify-center",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Vital Trend Forecast"}),e.jsxs("div",{className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-between ${t.vitalTrend.trend==="improving"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[t.vitalTrend.trend,t.vitalTrend.trend==="improving"?e.jsx(b,{size:14}):e.jsx(u,{size:14})]}),e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 mt-3 uppercase tracking-tighter leading-relaxed",children:["AI: ",t.vitalTrend.prediction]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3rem] p-10 shadow-sm",children:[e.jsxs("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-[0.2em] mb-10 flex items-center gap-4",children:[e.jsx(p,{size:20,className:"text-rose-500"})," Mortality Logic Distribution"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-50 pb-2",children:"By Primary Symptom"}),t.mortalityBreakdown.bySymptom.map((s,a)=>e.jsxs("div",{className:"flex justify-between items-center group",children:[e.jsx("span",{className:"text-xs font-bold text-slate-700 uppercase group-hover:text-blue-600 transition-colors",children:s.symptom.replace("_"," ")}),e.jsxs("span",{className:"text-sm font-black text-slate-900",children:[s.percentage,"%"]})]},a))]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-50 pb-2",children:"By Etiology"}),t.mortalityBreakdown.byCause.map((s,a)=>e.jsxs("div",{className:"flex justify-between items-center group",children:[e.jsx("span",{className:"text-xs font-bold text-slate-700 uppercase group-hover:text-indigo-600 transition-colors",children:s.cause.replace("_"," ")}),e.jsxs("span",{className:"text-sm font-black text-slate-900",children:[s.percentage,"%"]})]},a))]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3rem] p-10 shadow-sm flex flex-col",children:[e.jsxs("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-[0.2em] mb-10 flex items-center gap-4",children:[e.jsx(h,{size:20,className:"text-emerald-500"})," Active Registry Treatments"]}),e.jsx("div",{className:"space-y-4 flex-1",children:t.treatments.treatments.map((s,a)=>e.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-100 rounded-[2rem] flex items-center justify-between group hover:bg-white hover:shadow-xl hover:border-blue-200 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-blue-500/20",children:e.jsx(n,{size:22})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:["Active ",s.type," Protocol"]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:["Duration: ",s.durationDays," Days â€¢ ID: ",s.treatmentId]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:["Efficacy: ",s.efficacy]})})]},a))}),e.jsx("button",{className:"w-full mt-8 py-5 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3",children:"Register New Clinical Case"})]})]})]}):null};export{y as default};
