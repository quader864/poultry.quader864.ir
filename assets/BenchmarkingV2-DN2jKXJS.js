import{r as c,j as e,L as x,q as m,d as p}from"./index-DeCNIanD.js";import{G as h}from"./git-compare-CObtNIC5.js";import{A as f}from"./award-fmWSfR6g.js";import{S as u}from"./star-z9wKVRWe.js";import{I as b}from"./info-DVY2dvLG.js";import{T as j}from"./trophy-DaG-hq5J.js";import{C as g}from"./chart-column-27d2Te12.js";const F=({flockId:a,cycleId:l,api:r,t:N,isRtl:v,flocks:w})=>{const[i,d]=c.useState(null),[o,n]=c.useState(!1);return c.useEffect(()=>{(async()=>{if(!(!r.isValidObjectId(a)||!l)){n(!0);try{const s=await r.getFarmBenchmarkV2(a,l);d(s.data)}catch(s){console.error(s)}finally{n(!1)}}})()},[a,l,r]),!r.isValidObjectId(a)||!l?e.jsxs("div",{className:"h-[40vh] flex flex-col items-center justify-center text-slate-400 opacity-40",children:[e.jsx(h,{size:64,strokeWidth:1}),e.jsx("p",{className:"mt-4 text-[10px] font-black uppercase tracking-[0.4em]",children:"Select a specific Node context for Benchmarking"})]}):o?e.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center opacity-40",children:[e.jsx(x,{size:48,className:"animate-spin text-indigo-600 mb-6"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"Synchronizing Farm-Wide Percentiles..."})]}):i?e.jsx("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-6 duration-700",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3.5rem] p-10 lg:p-14 shadow-sm relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-16",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter",children:"Fleet Benchmark Performance"}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Comparison Logic: Farm Mean Parity"})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-slate-900 text-white px-8 py-4 rounded-2xl shadow-xl",children:[e.jsx(m,{size:20,className:"text-blue-400"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest opacity-50 text-left",children:"Peer Ranking"}),e.jsxs("p",{className:"text-2xl font-black tabular-nums",children:[i.rank," / ",i.totalFlocks]})]})]})]}),e.jsx("div",{className:"space-y-14",children:Object.entries(i.metrics||{}).map(([t,s])=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:t}),e.jsxs("h4",{className:"text-3xl font-black text-slate-900 tabular-nums",children:[s.value.toLocaleString()," ",e.jsx("span",{className:"text-xs uppercase text-slate-400 font-bold",children:"Scalar"})]})]}),e.jsxs("div",{className:`text-right ${s.status==="above_average"?"text-emerald-500":"text-rose-500"}`,children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest mb-1",children:"Percentile"}),e.jsxs("p",{className:"text-xl font-black tabular-nums",children:[s.percentile,"%"]})]})]}),e.jsxs("div",{className:"relative h-3 bg-slate-100 rounded-full overflow-hidden shadow-inner",children:[e.jsx("div",{className:`absolute top-0 h-full rounded-full transition-all duration-1000 ${s.status==="above_average"?"bg-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.3)]":"bg-rose-500"}`,style:{width:`${s.percentile}%`}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-slate-900",style:{left:`${s.farmAverage/(s.value*1.5||1)*100}%`}})]})]},t))})]}),e.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-12 text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(p,{size:100})}),e.jsxs("h4",{className:"text-xs font-black uppercase tracking-[0.2em] mb-10 flex items-center gap-4 text-slate-500",children:[e.jsx(f,{className:"text-amber-400"})," Certification Status"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"p-8 bg-white/5 border border-white/10 rounded-3xl flex items-center gap-6",children:[e.jsx("div",{className:"w-14 h-14 bg-emerald-500/10 text-emerald-400 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(u,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Fleet Quality Grade"}),e.jsx("p",{className:"text-2xl font-black uppercase",children:"ALPHA-PREMIUM"})]})]}),e.jsxs("div",{className:"p-8 bg-white/5 border border-white/10 rounded-3xl flex items-center gap-6",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-500/10 text-blue-400 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(b,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Standard Consistency"}),e.jsx("p",{className:"text-2xl font-black uppercase",children:"98.4% MATCH"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-indigo-600 rounded-[3.5rem] p-12 text-white shadow-2xl relative overflow-hidden group text-center flex flex-col justify-center min-h-[400px]",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:rotate-12 transition-transform duration-700",children:e.jsx(j,{size:140})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] mb-8 opacity-60 relative z-10",children:"Global Performance Tier"}),e.jsxs("h4",{className:"text-8xl font-black tracking-tighter relative z-10 tabular-nums",children:["12",e.jsx("span",{className:"text-2xl opacity-50 ml-2",children:"th"})]}),e.jsx("p",{className:"text-lg font-bold uppercase tracking-widest mt-6 relative z-10",children:"Percentile Node"}),e.jsx("div",{className:"mt-12 p-5 bg-black/20 rounded-2xl border border-white/10 relative z-10",children:e.jsx("p",{className:"text-[10px] font-bold opacity-80 uppercase leading-relaxed",children:"This node is outperforming 88% of the comparable fleet in the current cycle phase."})})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3.5rem] p-10 shadow-sm",children:[e.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest mb-10 flex items-center gap-4",children:[e.jsx(g,{size:20,className:"text-indigo-600"})," Node DNA Score"]}),e.jsx("div",{className:"space-y-8",children:[{label:"Feed Affinity",score:94},{label:"Environmental Parity",score:72},{label:"Genetic Yield Factor",score:88}].map((t,s)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:t.label}),e.jsxs("span",{className:"text-xs font-black text-slate-900",children:[t.score,"%"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${t.score}%`}})})]},s))})]})]})]})}):null};export{F as default};
