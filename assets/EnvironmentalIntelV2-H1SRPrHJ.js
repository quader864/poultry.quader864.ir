import{r,j as e,L as g,Z as v,d as N,A as p}from"./index-BqfCj9Cx.js";import{W as h}from"./wind-CQR_-y-F.js";import{T as y,D as k}from"./thermometer-BC0RVOP9.js";import{T as u}from"./trending-up-uU0_5pp5.js";import{aa as w,ab as z,ac as S,ad as A,ae as C,af as T,ag as f}from"./AreaChart-CkTg_hPv.js";const V=({flockId:l,api:i,t:O,isRtl:R})=>{var c,o,d,x,m;const[s,b]=r.useState(null),[j,n]=r.useState(!1);return r.useEffect(()=>{(async()=>{if(i.isValidObjectId(l)){n(!0);try{const t=await i.getEnvironmentalReadings(l);b(t.data||t)}catch(t){console.error("Environmental sync failed",t)}finally{n(!1)}}})()},[l,i]),j?e.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center opacity-40 animate-pulse",children:[e.jsx(g,{size:48,className:"animate-spin text-blue-600 mb-4"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"Calibrating Atmospheric Sensors..."})]}):s?e.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm group",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Ambient Temp"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("h4",{className:"text-4xl font-black text-slate-900 tabular-nums",children:[((c=s.current)==null?void 0:c.temperature)||"24.5","Â°C"]}),e.jsx(y,{size:24,className:"text-rose-500 mb-1 group-hover:scale-110 transition-transform"})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[9px] font-black text-emerald-500 uppercase",children:[e.jsx(u,{size:12})," Within Bio-Safe Range"]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm group",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Relative Humidity"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("h4",{className:"text-4xl font-black text-slate-900 tabular-nums",children:[((o=s.current)==null?void 0:o.humidity)||"62","%"]}),e.jsx(k,{size:24,className:"text-blue-500 mb-1 group-hover:scale-110 transition-transform"})]}),e.jsx("div",{className:"mt-4 flex items-center gap-2 text-[9px] font-black text-slate-400 uppercase",children:"Mesh Signal: High"})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm group",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Ammonia (PPM)"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("h4",{className:`text-4xl font-black tabular-nums ${(((d=s.current)==null?void 0:d.ammonia)||0)>25?"text-rose-600":"text-slate-900"}`,children:((x=s.current)==null?void 0:x.ammonia)||"12"}),e.jsx(v,{size:24,className:"text-amber-500 mb-1"})]}),e.jsx("p",{className:"mt-4 text-[9px] font-black text-slate-500 uppercase",children:"Air Quality: Optimal"})]}),e.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(h,{size:80})}),e.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-4 relative z-10",children:"Air Velocity"}),e.jsxs("div",{className:"flex items-end justify-between relative z-10",children:[e.jsx("h4",{className:"text-4xl font-black text-blue-400 tabular-nums",children:((m=s.current)==null?void 0:m.airFlow)||"1.2"}),e.jsx("span",{className:"text-xs uppercase text-slate-500 mb-2",children:"m/s"})]}),e.jsx("p",{className:"mt-4 text-[9px] font-bold text-slate-500 uppercase tracking-widest relative z-10",children:"Ventilation Node: active"})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3rem] p-10 lg:p-14 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-12",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:e.jsx(u,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Environmental Vector Trends"}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"24-Hour Atmospheric Sample"})]})]})}),e.jsx("div",{className:"h-[400px] w-full",children:e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(z,{data:s.trends||[],children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorTemp",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorHum",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),e.jsx(S,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),e.jsx(A,{dataKey:"time",hide:!0}),e.jsx(C,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:900,fill:"#94a3b8"}}),e.jsx(T,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontWeight:900,fontSize:"10px"}}),e.jsx(f,{type:"monotone",dataKey:"temperature",name:"Temp",stroke:"#ef4444",strokeWidth:3,fillOpacity:1,fill:"url(#colorTemp)"}),e.jsx(f,{type:"monotone",dataKey:"humidity",name:"Humidity",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorHum)"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 pb-20",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3rem] p-10 shadow-sm",children:[e.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-[0.2em] mb-8 flex items-center gap-3",children:[e.jsx(N,{className:"text-emerald-500",size:20})," Safety Protocol Consensus"]}),e.jsx("div",{className:"space-y-6",children:[{label:"CO2 Levels",val:"800 PPM",status:"Nominal"},{label:"Litter Moisture",val:"22%",status:"Nominal"},{label:"Ammonia Sensor",val:"Active",status:"Safe"}].map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:a.label}),e.jsx("p",{className:"text-sm font-black text-slate-800",children:a.val})]}),e.jsx("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:a.status})]},t))})]}),e.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-12 text-white shadow-2xl relative overflow-hidden flex flex-col justify-center",children:[e.jsx("div",{className:"absolute bottom-0 right-0 p-8 opacity-10",children:e.jsx(p,{size:100})}),e.jsx("h4",{className:"text-xs font-black uppercase tracking-[0.2em] mb-10 text-blue-400",children:"Biological Impact Simulation"}),e.jsx("p",{className:"text-xl font-black leading-tight uppercase tracking-tight mb-8",children:"Current environmental parameters suggest a 98.4% comfort coefficient. Recommend maintaining ventilation pulse at 1.2m/s."}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("button",{className:"px-8 py-4 bg-blue-600 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl hover:bg-blue-700 transition-all flex items-center gap-2",children:[e.jsx(p,{size:14})," Run Stress Test"]})})]})]})]}):e.jsxs("div",{className:"py-20 text-center opacity-30",children:[e.jsx(h,{size:64,className:"mx-auto mb-4"}),e.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"Atmospheric Registry Offline"})]})};export{V as default};
