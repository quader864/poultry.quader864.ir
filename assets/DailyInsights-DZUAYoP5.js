import{r as i,j as e,g as b,L as g,Z as u}from"./index-BlS2-adh.js";import{P as h}from"./PerformanceOverview-bAJf9uK-.js";import{T as f}from"./trending-up-X983Lwjd.js";import"./AreaChart-DTaJkfl6.js";import"./chart-column-XUqnyj18.js";const k=({flockId:r,api:c,t:o,isRtl:t})=>{const[d,x]=i.useState(null),[m,n]=i.useState(!1);if(i.useEffect(()=>{(async()=>{if(r!=="all"){n(!0);try{const l=await c.getDailyAnalytics(r);x(l.data)}catch(l){console.error("Daily Insights sync failed",l)}finally{n(!1)}}})()},[r,c]),r==="all")return e.jsxs("div",{className:"h-[40vh] flex flex-col items-center justify-center text-slate-400 opacity-40",children:[e.jsx(b,{size:64,strokeWidth:1}),e.jsx("p",{className:"mt-4 text-xs font-black uppercase tracking-[0.3em]",children:"Select a specific node for Daily Insights"})]});if(m)return e.jsx("div",{className:"h-[40vh] flex items-center justify-center",children:e.jsx(g,{size:40,className:"animate-spin text-blue-600"})});if(!d)return null;const{summary:s,trends:p}=d;return e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm group",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:t?"جمعیت زنده":"Current Birds"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h4",{className:"text-4xl font-black text-slate-900 tabular-nums",children:s.birds.count.toLocaleString()}),e.jsxs("span",{className:"text-[10px] font-bold text-rose-500",children:["-",s.birds.mortality," ",t?"تلفات":"Loss"]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm group",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:t?"مصرف دان (کیلو)":"Feed Intake (KG)"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h4",{className:"text-4xl font-black text-slate-900 tabular-nums",children:s.feed.used.toLocaleString()}),e.jsxs("span",{className:"text-[10px] font-bold text-amber-500",children:[s.feed.wastePercentage,"% ",t?"پرت":"Waste"]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm group",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:t?"تولید تخم‌مرغ":"Egg Yield"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h4",{className:"text-4xl font-black text-slate-900 tabular-nums",children:s.eggs.produced.toLocaleString()}),e.jsxs("span",{className:"text-[10px] font-bold text-emerald-500",children:[s.eggs.qualityRate,"% ",t?"سالم":"Grade A"]})]})]}),e.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(f,{size:60})}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3 relative z-10",children:t?"سود روزانه (تخمین)":"Daily Est. Profit"}),e.jsxs("h4",{className:"text-4xl font-black tabular-nums relative z-10",children:["$",s.economics.profit.toLocaleString()]}),e.jsxs("p",{className:"text-[10px] font-bold text-emerald-400 mt-2 relative z-10",children:[s.economics.profitMargin,"% Margin"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(h,{t:o,isRtl:t,data:p.last7Days.map(a=>({day:a.date.split("-")[2],growth:a.eggs,mortality:a.birds/10}))})}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3rem] p-8 shadow-sm flex flex-col",children:[e.jsxs("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-8 flex items-center gap-3",children:[e.jsx(u,{className:"text-blue-600"})," Velocity Indicators"]}),e.jsx("div",{className:"space-y-6 flex-1",children:[{label:"Feed Flow",value:`${s.feed.used} kg/day`,status:"Optimal"},{label:"Mortality Signal",value:`${s.birds.mortalityRate}%`,status:"Safe"},{label:"Storage Node",value:`${s.feed.storageAvailable} kg`,status:"Critical"}].map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:a.label}),e.jsx("p",{className:"text-sm font-black text-slate-800",children:a.value})]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase ${a.status==="Optimal"?"bg-emerald-50 text-emerald-600":a.status==="Safe"?"bg-blue-50 text-blue-600":"bg-rose-50 text-rose-600"}`,children:a.status})]},l))})]})]})]})};export{k as default};
