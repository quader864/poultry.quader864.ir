import{c as n,j as e,L as w,B as u,T as f,D as z}from"./index-CZC_pdxc.js";import{L as p}from"./layers-1kll8HaK.js";import{U as N,I as L}from"./utensils-crossed-CzwqrSbv.js";import{C as b}from"./circle-check-hIRykhK9.js";import{S as C}from"./shield-check-DjNDSCTG.js";import{A as D}from"./arrow-right-DPnXfBH9.js";import{C as I}from"./calendar-MbnRfJgj.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],S=n("box",A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],P=n("clipboard-check",$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],v=n("clock",T);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],_=n("percent",M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],F=n("square-activity",V);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],B=n("truck",E),m=({title:s,value:l,icon:r,color:t,subValue:i})=>e.jsxs("div",{className:"bg-white border border-slate-200 p-6 rounded-[2rem] shadow-sm hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`p-3 rounded-2xl ${t} text-white shadow-lg shadow-current/10 transition-transform group-hover:scale-110`,children:r}),i&&e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:i})]}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:s}),e.jsx("h4",{className:"text-2xl font-black text-slate-900 tracking-tight mono tabular-nums",children:l})]}),q=({percent:s,label:l,colorClass:r})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[e.jsx("span",{className:"text-slate-400",children:l}),e.jsxs("span",{className:r,children:[s,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-1000 ${r.replace("text-","bg-")}`,style:{width:`${Math.min(100,s)}%`}})})]}),j=({status:s,t:l})=>{const r=(s==null?void 0:s.toLowerCase())||"",t={active:"bg-emerald-50 text-emerald-600 border-emerald-100",inactive:"bg-slate-50 text-slate-400 border-slate-100",high:"bg-rose-50 text-rose-600 border-rose-100",low:"bg-amber-50 text-amber-600 border-amber-100",normal:"bg-blue-50 text-blue-600 border-blue-100"};return e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border ${t[r]||t.normal}`,children:l[r]||s})},U=({flock:s,t:l,isRtl:r})=>{var h;const{flockInfo:t,birdInventory:i,foodDelivery:a,foodConsumption:c,summary:o}=s,d=(h=c==null?void 0:c.today)==null?void 0:h.status,x=(d==null?void 0:d.urgency)==="high";return e.jsxs("div",{className:`bg-white border-2 rounded-[3rem] overflow-hidden shadow-sm transition-all hover:shadow-xl ${x?"border-rose-200":"border-slate-100 hover:border-blue-200"}`,children:[e.jsxs("div",{className:`p-8 border-b flex flex-col md:flex-row justify-between items-start md:items-center gap-6 ${x?"bg-rose-50/50 border-rose-100":"bg-slate-50/30 border-slate-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:`w-16 h-16 rounded-[1.5rem] flex items-center justify-center shadow-lg ${x?"bg-rose-600 text-white":"bg-slate-900 text-white"}`,children:e.jsx(u,{size:32})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tighter uppercase",children:t.name}),e.jsx(j,{status:t.status,t:l})]}),e.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(I,{size:12,className:"text-blue-500"})," ",new Date(t.startDate).toLocaleDateString(r?"fa-IR":"en-US")]}),e.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(v,{size:12,className:"text-indigo-500"})," ",t.ageDays," ",r?"روز سن":"DAYS OLD"]})]})]})]}),x&&e.jsxs("div",{className:"bg-rose-600 text-white px-6 py-3 rounded-2xl flex items-center gap-3 animate-pulse shadow-xl shadow-rose-600/20",children:[e.jsx(f,{size:20}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[8px] font-black uppercase opacity-80 leading-none",children:r?"هشدار بحرانی":"High Urgency Alert"}),e.jsx("p",{className:"text-xs font-bold uppercase tracking-tight",children:d==null?void 0:d.message})]})]})]}),e.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-black uppercase text-xs tracking-widest mb-2",children:[e.jsx(p,{size:16,className:"text-blue-600"})," ",l.birdInventory||"Bird Inventory"]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:r?"جمعیت فعلی":"Current Population"}),e.jsx("p",{className:"text-3xl font-black text-slate-900 tabular-nums",children:i.current.toLocaleString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:r?"تلفات امروز":"Losses Today"}),e.jsxs("p",{className:"text-lg font-black text-rose-600 tabular-nums",children:["-",i.losses.today.count]})]})]}),e.jsx(q,{percent:parseFloat(i.utilizationPercent),label:r?"بهره‌وری ظرفیت":"Capacity Utilization",colorClass:"text-blue-600"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"px-4 py-3 bg-white border border-slate-100 rounded-2xl",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:r?"تلفات کل دوره":"Lifetime Losses"}),e.jsx("p",{className:"text-sm font-black text-slate-700",children:i.losses.total.count})]}),e.jsxs("div",{className:"px-4 py-3 bg-white border border-slate-100 rounded-2xl",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:r?"نرخ تلفات":"Loss Rate"}),e.jsxs("p",{className:"text-sm font-black text-rose-500",children:[i.losses.total.percent,"%"]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-black uppercase text-xs tracking-widest mb-2",children:[e.jsx(B,{size:16,className:"text-amber-600"})," ",l.logisticsFeed]}),e.jsxs("div",{className:"bg-amber-50/50 p-6 rounded-[2rem] border border-amber-100/50 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:r?"ورودی امروز":"Today's Delivery"}),e.jsx(j,{status:a.today.delivered>=a.expected.today?"Verified":"Pending",t:l})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-black text-amber-900 tabular-nums",children:[a.today.delivered.toLocaleString()," ",e.jsx("span",{className:"text-xs",children:l.kg})]}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs("span",{className:`text-[10px] font-black uppercase ${a.today.variance<0?"text-rose-600":"text-emerald-600"}`,children:[a.today.variance>=0?"+":"",a.today.variance.toFixed(1)," ",r?"انحراف کیلوگرم":"kg Variance"]})})]}),e.jsxs("div",{className:"pt-2 border-t border-amber-200/30",children:[e.jsx("p",{className:"text-[9px] font-bold text-amber-700 uppercase mb-2",children:l.inventoryLevel}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-lg font-black text-amber-900",children:[a.inventory.current.toLocaleString()," ",l.kg]}),e.jsxs("span",{className:"px-3 py-1 bg-white rounded-xl text-[10px] font-black text-amber-600 shadow-sm border border-amber-100",children:[a.inventory.daysOfSupply," ",r?"روز پایداری":"DAYS SUPPLY"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-black uppercase text-xs tracking-widest mb-2",children:[e.jsx(N,{size:16,className:"text-indigo-600"})," ",l.consumption]}),e.jsxs("div",{className:"bg-indigo-50/50 p-6 rounded-[2rem] border border-indigo-100/50 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:r?"خروج منابع":"Resource Draw"}),e.jsxs("span",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest bg-white px-2 py-1 rounded-lg border border-indigo-100",children:["Avg ",c.lifetime.averagePerDay,"kg/d"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-black text-indigo-900 tabular-nums",children:[c.today.consumed.toLocaleString()," ",e.jsx("span",{className:"text-xs",children:l.kg})]}),e.jsxs("p",{className:"text-[10px] font-bold text-indigo-400 uppercase mt-1",children:[r?"انتظار:":"Expected:"," ",c.today.expected.toLocaleString()," ",l.kg]})]}),e.jsxs("div",{className:"pt-2 border-t border-indigo-200/30 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:l.efficiency}),e.jsxs("p",{className:"text-sm font-black text-indigo-700",children:[c.perBird.grams," g/bird"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:r?"رانش %":"Drift %"}),e.jsxs("p",{className:`text-sm font-black ${c.today.variancePercent<0?"text-rose-500":"text-emerald-500"}`,children:[c.today.variancePercent,"%"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-black uppercase text-xs tracking-widest mb-2",children:[e.jsx(F,{size:16,className:"text-emerald-600"})," ",l.enterpriseAudit]}),e.jsx("div",{className:"space-y-1",children:Object.entries(o.keyMetrics).map(([y,k],g)=>e.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-slate-50 last:border-0 group hover:bg-slate-50 transition-colors px-2 rounded-lg",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter group-hover:text-slate-600",children:y}),e.jsx("span",{className:"text-[11px] font-black text-slate-800 tabular-nums",children:k})]},g))}),o.dataQualityNotes.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-100 rounded-2xl flex items-start gap-3",children:[e.jsx(L,{size:14,className:"text-amber-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] font-bold text-amber-700 leading-relaxed uppercase",children:o.dataQualityNotes[0]})]})]})]})]})},G=({aggregate:s,flocks:l=[],selectedFlockId:r,t,setActiveModule:i})=>{const a=t.langToggle==="EN";return!s&&l.length===0?e.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center text-slate-400 gap-4",children:[e.jsx(w,{className:"animate-spin text-blue-600",size:40}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em]",children:t.awaitingData||"INITIALIZING SENTINEL NODE..."})]}):e.jsxs("div",{className:"space-y-10 pb-20 animate-in fade-in duration-700",dir:a?"rtl":"ltr",children:[e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl shadow-lg shadow-slate-900/10",children:e.jsx(p,{size:20})}),e.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-widest",children:t.globalIntegrity})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(m,{title:t.fleetPopulation,value:(s==null?void 0:s.totalBirds.toLocaleString())||"0",icon:e.jsx(u,{size:20}),color:"bg-blue-600",subValue:`${a?"ظرفیت:":"Cap:"} ${s==null?void 0:s.totalCapacity.toLocaleString()}`}),e.jsx(m,{title:t.consolidatedLosses,value:(s==null?void 0:s.totalLostToday)||"0",icon:e.jsx(f,{size:20}),color:"bg-rose-600",subValue:a?"انحراف امروز":"Today's Variance"}),e.jsx(m,{title:t.massWithdrawal,value:`${(s==null?void 0:s.totalFoodConsumed.toLocaleString())||"0"} ${t.kg}`,icon:e.jsx(N,{size:20}),color:"bg-indigo-600",subValue:a?"خروج دان":"Feed Draw"}),e.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl border border-slate-800 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:t.fleetUtilization}),e.jsx(_,{size:16,className:"text-emerald-400"})]}),e.jsxs("h4",{className:"text-4xl font-black text-white tabular-nums tracking-tighter mb-4",children:[s==null?void 0:s.utilizationPercent,"%"]}),e.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-1000",style:{width:`${s==null?void 0:s.utilizationPercent}%`}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border border-slate-200 p-5 rounded-3xl flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-400",children:e.jsx(p,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:t.managedNodes}),e.jsxs("p",{className:"text-lg font-black text-slate-800",children:[s==null?void 0:s.flockCount," ",a?"گله فعال":"ACTIVE FLOCKS"]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-5 rounded-3xl flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-400",children:e.jsx(v,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:t.fleetMaturity}),e.jsxs("p",{className:"text-lg font-black text-slate-800",children:[s==null?void 0:s.averageAgeInDays," ",a?"روز سن":"DAYS OLD"]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-5 rounded-3xl flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center",children:e.jsx(b,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:t.sentinelPulse}),e.jsx("p",{className:"text-lg font-black text-slate-800 uppercase",children:t.nominal})]})]})]})]}),e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-600/10",children:e.jsx(S,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-widest",children:t.nodeTelemetry}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a?"در حال پردازش":"Processing"," ",l.length," ",a?"جریان داده مستقل":"Individual Streams"]})]})]}),e.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-white border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-600 hover:bg-slate-50 shadow-sm transition-all",children:[e.jsx(P,{size:16})," ",t.auditAllNodes]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-10",children:[l.map(c=>e.jsx(U,{flock:c,t,isRtl:a},c.flockInfo.id)),l.length===0&&e.jsxs("div",{className:"py-40 text-center flex flex-col items-center gap-6 opacity-30",children:[e.jsx(C,{size:80,className:"text-slate-300",strokeWidth:1}),e.jsx("h3",{className:"text-xl font-black text-slate-400 uppercase tracking-[0.2em]",children:a?"هیچ تله‌متری دریافت نشده":"Zero Telemetry Ingested"}),e.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase",children:a?"برای شروع رهگیری، گله‌های جدید را در بخش مدیریت گله تعریف کنید.":"Provision new nodes in Flock Management to begin tracking."})]})]})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-[2.5rem] p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{size:24,className:"text-emerald-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-black text-slate-700 uppercase tracking-widest",children:a?"تایید صحت منطقی":"Consensus Verified"}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:a?"بررسی شبکه ناوگان با موفقیت انجام شد":"Fleet wide logic check passed"})]})]}),e.jsx("div",{className:"hidden sm:block w-px h-10 bg-slate-200"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{size:22,className:"text-slate-400"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-[11px] font-black text-slate-700 uppercase tracking-widest tabular-nums",children:[a?"مرجع:":"Ref:"," ",new Date().toLocaleTimeString("fa-IR",{timeZone:"Asia/Tehran"})]}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:a?"زمان رسمی تهران":"Asia/Tehran Enforced"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white px-6 py-3 rounded-2xl border border-slate-200 shadow-sm group cursor-pointer hover:border-blue-300 transition-all",children:[e.jsxs("span",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest group-hover:text-blue-600",children:[a?"نسخه ریجستری سازمانی:":"Enterprise Registry:"," V2.5.4"]}),e.jsx(D,{size:14,className:"text-slate-300 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]})};export{G as default};
