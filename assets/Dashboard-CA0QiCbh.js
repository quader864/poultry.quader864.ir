import{c as x,j as e,L as ze,B as Ae,T as $e,D as Re,R as Ve}from"./index-eJmW9gB0.js";import{L as Ee}from"./layers-y0bS8dt-.js";import{U as Fe,A as Me,a as Oe}from"./utensils-crossed-CFEpMVb1.js";import{A as Pe,C as Te,T as Ue}from"./trending-up-BsPF7B-X.js";import{Z as _e}from"./zap-BeoqO105.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],He=x("clipboard-check",Be);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],We=x("clock",Ze);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ye=x("package",Ge),qe=({status:i})=>{const c={normal:"bg-emerald-50 text-emerald-600 border-emerald-100",high:"bg-amber-50 text-amber-600 border-amber-100",low:"bg-rose-50 text-rose-600 border-rose-100",active:"bg-blue-50 text-blue-600 border-blue-100",archived:"bg-slate-50 text-slate-400 border-slate-100",ok:"bg-emerald-50 text-emerald-600 border-emerald-100",verified:"bg-blue-50 text-blue-600 border-blue-100",healthy:"bg-emerald-50 text-emerald-600 border-emerald-100"},t=(i||"").toLowerCase();return e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest border ${c[t]||c.normal}`,children:i||"Normal"})},ge=({title:i,icon:c,color:t="bg-slate-900"})=>e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:`p-2.5 ${t} text-white rounded-xl shadow-sm`,children:Ve.cloneElement(c,{size:18})}),e.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-[0.15em]",children:i})]}),n=({label:i,value:c,subValue:t,trend:s})=>e.jsxs("div",{className:"flex items-center justify-between py-3.5 border-b border-slate-50 last:border-0",children:[e.jsx("span",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-tight",children:i}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-black text-slate-900 tabular-nums mono",children:c}),t&&e.jsx("div",{className:`text-[10px] font-bold uppercase tracking-tighter mt-0.5 ${s==="up"?"text-emerald-500":s==="down"?"text-rose-500":"text-slate-400"}`,children:t})]})]}),st=({data:i,anomalies:c,dashboard:t,aggregate:s,selectedFlockId:De,t:r,setActiveModule:Je})=>{var a,o,m,p,u,f,j,d,N,v,k,y,w,b,h,C,L,I,S,A,E,T,g,D,z,$,R,V,F,M,O,P,U,_,B,H,Z,W,G,Y,q,J,K,Q,X,ee,te,se,le,ie,ce,ne,re,xe,ae,oe,me,pe,ue,fe,je,de,Ne,ve,ke,ye,we,be,he,Ce,Le,Ie,Se;const l=De==="all";return!l&&!t||l&&!s?e.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center text-slate-400 gap-4",children:[e.jsx(ze,{className:"animate-spin text-blue-600",size:40}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em]",children:r.awaitingData||"SYNCHRONIZING SENTINEL FEED..."})]}):e.jsxs("div",{className:"space-y-6 pb-20 animate-in fade-in duration-700",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] p-8 shadow-sm flex flex-col lg:flex-row lg:items-center justify-between gap-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-50/30 rounded-full translate-x-32 -translate-y-32"}),e.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-900 text-white rounded-[2rem] flex items-center justify-center shadow-2xl shadow-slate-900/30 group",children:l?e.jsx(Ee,{size:40}):e.jsx(Ae,{size:40,className:"group-hover:scale-110 transition-transform duration-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tighter uppercase",children:l?"Fleet Operations":(a=t==null?void 0:t.flockInfo)==null?void 0:a.name}),e.jsx(qe,{status:l?"Enterprise":((o=t==null?void 0:t.summary)==null?void 0:o.overallStatus)||"Healthy"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{size:16,className:"text-blue-500"}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",children:l?`${(m=s==null?void 0:s.averageAgeInDays)==null?void 0:m.toFixed(1)} AVG AGE`:`${(p=t==null?void 0:t.flockInfo)==null?void 0:p.age} OLD`})]}),e.jsx("div",{className:"w-1.5 h-1.5 bg-slate-200 rounded-full"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-[11px] font-bold uppercase tracking-widest",children:l?`${s==null?void 0:s.flockCount} ACTIVE NODES`:`ID: ${(f=(u=t==null?void 0:t.flockInfo)==null?void 0:u.id)==null?void 0:f.slice(-8).toUpperCase()}`})]})]})]})]}),e.jsx("div",{className:"flex gap-4 relative z-10",children:e.jsxs("button",{className:"px-8 py-3.5 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-black transition-all flex items-center gap-2",children:[e.jsx(He,{size:16})," AUDIT REPORT"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white border border-slate-200 p-6 rounded-[2rem] shadow-sm group hover:border-blue-500 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:e.jsx(Ae,{size:20})}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"UTILIZATION"}),e.jsxs("span",{className:"text-xs font-black text-emerald-500 tabular-nums",children:[l?s==null?void 0:s.utilizationPercent:(j=t==null?void 0:t.birdInventory)==null?void 0:j.utilizationPercent,"%"]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:r.birds}),e.jsx("h4",{className:"text-3xl font-black text-slate-900 tracking-tight mono tabular-nums",children:l?(d=s==null?void 0:s.totalBirds)==null?void 0:d.toLocaleString():(v=(N=t==null?void 0:t.birdInventory)==null?void 0:N.current)==null?void 0:v.toLocaleString()}),e.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-slate-50",children:[e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"CAPACITY"}),e.jsx("span",{className:"text-[10px] font-black text-slate-600 tabular-nums",children:l?(k=s==null?void 0:s.totalCapacity)==null?void 0:k.toLocaleString():(w=(y=t==null?void 0:t.birdInventory)==null?void 0:y.capacity)==null?void 0:w.toLocaleString()})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-6 rounded-[2rem] shadow-sm group hover:border-amber-500 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-2xl group-hover:bg-amber-600 group-hover:text-white transition-all",children:e.jsx(Fe,{size:20})}),!l&&e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"VARIANCE"}),e.jsxs("span",{className:`text-xs font-black tabular-nums ${(((h=(b=t==null?void 0:t.foodConsumption)==null?void 0:b.today)==null?void 0:h.variance)||0)<0?"text-emerald-500":"text-amber-500"}`,children:[((L=(C=t==null?void 0:t.foodConsumption)==null?void 0:C.today)==null?void 0:L.variance)||0," kg"]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:r.feedVelocity||"Feed Velocity"}),e.jsxs("h4",{className:"text-3xl font-black text-slate-900 tracking-tight mono tabular-nums",children:[l?(I=s==null?void 0:s.totalFoodConsumed)==null?void 0:I.toLocaleString():(E=(A=(S=t==null?void 0:t.foodConsumption)==null?void 0:S.today)==null?void 0:A.consumed)==null?void 0:E.toLocaleString()," kg"]}),e.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-slate-50",children:[e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"DELIVERED"}),e.jsxs("span",{className:"text-[10px] font-black text-slate-600 tabular-nums",children:[l?(T=s==null?void 0:s.totalFoodDelivered)==null?void 0:T.toLocaleString():(z=(D=(g=t==null?void 0:t.foodDelivery)==null?void 0:g.today)==null?void 0:D.delivered)==null?void 0:z.toLocaleString()," kg"]})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-6 rounded-[2rem] shadow-sm group hover:border-rose-500 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 rounded-2xl group-hover:bg-rose-600 group-hover:text-white transition-all",children:e.jsx(Pe,{size:20})}),!l&&e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"DRIFT"}),e.jsxs("span",{className:"text-xs font-black text-rose-500 tabular-nums",children:[(V=(R=($=t==null?void 0:t.birdInventory)==null?void 0:$.losses)==null?void 0:R.total)==null?void 0:V.percent,"%"]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:r.mortality}),e.jsx("h4",{className:"text-3xl font-black text-slate-900 tracking-tight mono tabular-nums",children:l?`-${(s==null?void 0:s.totalLostToday)||0}`:`-${((O=(M=(F=t==null?void 0:t.birdInventory)==null?void 0:F.losses)==null?void 0:M.today)==null?void 0:O.count)||0}`}),e.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-slate-50",children:[e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"CUMULATIVE"}),e.jsx("span",{className:"text-[10px] font-black text-slate-600 tabular-nums",children:l?"Tracking...":(B=(_=(U=(P=t==null?void 0:t.birdInventory)==null?void 0:P.losses)==null?void 0:U.total)==null?void 0:_.count)==null?void 0:B.toLocaleString()})]})]})]}),e.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl border border-slate-800 transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-3 bg-white/10 text-emerald-400 rounded-2xl",children:e.jsx(Te,{size:20})}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[8px] font-black text-emerald-400 uppercase tracking-[0.2em] animate-pulse",children:"Live"}),e.jsx(_e,{size:14,className:"text-emerald-400"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"SENTINEL STATUS"}),e.jsx("h4",{className:"text-3xl font-black text-white tracking-tight uppercase",children:"OPERATIONAL"}),e.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-white/5",children:[e.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase",children:"SYNC NODES"}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:[l?s==null?void 0:s.flockCount:1," VERIFIED"]})]})]})]})]}),!l&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] p-8 shadow-sm",children:[e.jsx(ge,{title:"Inventory Flow (Mass)",icon:e.jsx(Ye,{}),color:"bg-indigo-600"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-slate-50 rounded-3xl p-6 border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"INFLOW"}),e.jsxs("h3",{className:"text-2xl font-black text-slate-900 tabular-nums",children:["+",(W=(Z=(H=t==null?void 0:t.foodDelivery)==null?void 0:H.today)==null?void 0:Z.delivered)==null?void 0:W.toLocaleString()," kg"]})]}),e.jsx(Me,{size:24,className:"text-emerald-500 opacity-20"})]}),e.jsxs("div",{className:"bg-slate-50 rounded-3xl p-6 border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"OUTFLOW"}),e.jsxs("h3",{className:"text-2xl font-black text-slate-900 tabular-nums",children:["-",(q=(Y=(G=t==null?void 0:t.foodConsumption)==null?void 0:G.today)==null?void 0:Y.consumed)==null?void 0:q.toLocaleString()," kg"]})]}),e.jsx(Oe,{size:24,className:"text-rose-500 opacity-20"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(n,{label:"Stored Reserves",value:`${(Q=(K=(J=t==null?void 0:t.foodDelivery)==null?void 0:J.inventory)==null?void 0:K.current)==null?void 0:Q.toLocaleString()} kg`,subValue:`${(ee=(X=t==null?void 0:t.foodDelivery)==null?void 0:X.inventory)==null?void 0:ee.daysOfSupply} Days Capacity`,trend:"neutral"}),e.jsx(n,{label:"Mass Variance (kg)",value:`${((se=(te=t==null?void 0:t.foodConsumption)==null?void 0:te.today)==null?void 0:se.variance)||0} kg`,subValue:Math.abs(((ie=(le=t==null?void 0:t.foodConsumption)==null?void 0:le.today)==null?void 0:ie.variance)||0)>25?"High Transit Loss Detected":"Within Tolerance",trend:(((ne=(ce=t==null?void 0:t.foodConsumption)==null?void 0:ce.today)==null?void 0:ne.variance)||0)>0?"down":"up"}),e.jsx(n,{label:"FCR Delta",value:(((xe=(re=t==null?void 0:t.foodConsumption)==null?void 0:re.today)==null?void 0:xe.variancePercent)||0)+"%",subValue:"vs Model Benchmark",trend:(((oe=(ae=t==null?void 0:t.foodConsumption)==null?void 0:ae.today)==null?void 0:oe.variancePercent)||0)>2?"down":"up"})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] p-8 shadow-sm",children:[e.jsx(ge,{title:"Feed Efficiency Lab",icon:e.jsx(Ue,{}),color:"bg-amber-600"}),e.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-3xl p-6 mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest mb-0.5",children:"Efficiency Score"}),e.jsxs("h3",{className:"text-2xl font-black text-amber-900 tabular-nums",children:[((pe=(me=t==null?void 0:t.foodConsumption)==null?void 0:me.perBird)==null?void 0:pe.grams)||0," ",e.jsx("span",{className:"text-xs",children:"g / bird / day"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[9px] font-bold text-amber-600/70 uppercase mb-1",children:"Scenario Logic"}),e.jsx("span",{className:"px-3 py-1 bg-amber-200/50 text-amber-700 rounded-lg text-[10px] font-black uppercase tracking-widest border border-amber-300",children:((fe=(ue=t==null?void 0:t.foodConsumption)==null?void 0:ue.perBird)==null?void 0:fe.source)||"70g Model"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(n,{label:"Expected Daily Draw",value:`${(Ne=(de=(je=t==null?void 0:t.foodConsumption)==null?void 0:je.today)==null?void 0:de.expected)==null?void 0:Ne.toLocaleString()} kg`}),e.jsx(n,{label:"Actual Draw",value:`${(ye=(ke=(ve=t==null?void 0:t.foodConsumption)==null?void 0:ve.today)==null?void 0:ke.consumed)==null?void 0:ye.toLocaleString()} kg`}),Math.abs(((be=(we=t==null?void 0:t.foodConsumption)==null?void 0:we.today)==null?void 0:be.variancePercent)||0)>2&&e.jsxs("div",{className:"mt-4 p-3 bg-rose-50 border border-rose-100 rounded-xl flex items-center gap-3",children:[e.jsx($e,{size:16,className:"text-rose-600"}),e.jsx("span",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest",children:"Logic: Trigger Alert Policy (Â±2%)"})]})]})]})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-3xl p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{size:20,className:"text-emerald-500"}),e.jsx("span",{className:"text-[11px] font-black text-slate-700 uppercase tracking-widest",children:l?"Fleet-Wide Consensus Verified":(((Ce=(he=t==null?void 0:t.summary)==null?void 0:he.alerts)==null?void 0:Ce.length)||0)>0?`Priority Alert: ${(Ie=(Le=t==null?void 0:t.summary)==null?void 0:Le.alerts)==null?void 0:Ie[0]}`:"Telemetry Consistency Verified"})]}),e.jsx("div",{className:"hidden md:block w-px h-6 bg-slate-200"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{size:18,className:"text-slate-400"}),e.jsx("span",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:l?`${(s==null?void 0:s.flockCount)||0} Nodes Polled`:`LAST REFRESH: ${new Date(((Se=t==null?void 0:t.summary)==null?void 0:Se.lastUpdated)||"").toLocaleTimeString("fa-IR",{timeZone:"Asia/Tehran"})}`})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),e.jsx("span",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"SENTINEL ACTIVE"})]})]})]})};export{st as default};
