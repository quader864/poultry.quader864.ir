import{c as te,j as e,a as se,Z as T,d as ae,g as L,i as O,r as m,X as le,L as D,k as re}from"./index-BlS2-adh.js";import{D as H}from"./droplets-Lpd5qF8J.js";import{W as B}from"./wind-Df6K6pUD.js";import{T as $}from"./thermometer-CBRrmUoz.js";import{I as V}from"./info-CHc_1WZ7.js";import{C as K}from"./circle-check-l3JID_ZS.js";import{S as ne}from"./scale-X-Oesm-K.js";import{P as ie}from"./package-DlWeqhoU.js";import{L as ce}from"./layout-grid-DxuinLnq.js";import{F as oe}from"./file-text-DXWc4s_U.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],xe=te("fingerprint-pattern",de),pe=({data:l,onChange:b,t:g,isRtl:j})=>{const r=(s,h)=>b({...l,[s]:h});return e.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center gap-6 border-b border-slate-50 pb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-600 rounded-[1.5rem] flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform",children:e.jsx(H,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tighter",children:"Water Chemistry Matrix"}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Direct Clinical Node Input"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-8 bg-slate-50/50 p-8 rounded-[2.5rem] border border-slate-100",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center ml-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"pH Balance (6.5 - 8.5)"}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black ${l.pH>8.5||l.pH<6.5?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:l.pH||7})]}),e.jsx("input",{type:"range",min:"0",max:"14",step:"0.1",className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600",value:l.pH||7,onChange:s=>r("pH",parseFloat(s.target.value))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Hardness (mg/L)"}),e.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-2xl px-5 py-4 text-sm font-black outline-none focus:ring-8 focus:ring-blue-500/5 transition-all",value:l.hardness||"",onChange:s=>r("hardness",parseFloat(s.target.value)),placeholder:"0.0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Free Chlorine"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full bg-white border border-slate-200 rounded-2xl px-5 py-4 text-sm font-black outline-none focus:ring-8 focus:ring-blue-500/5 transition-all",value:l.freeChlorine||"",onChange:s=>r("freeChlorine",parseFloat(s.target.value)),placeholder:"0.00"})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Water Supply Source"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["municipal","well","rainwater","trucked"].map(s=>e.jsx("button",{type:"button",onClick:()=>r("source",s),className:`px-4 py-3.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${l.source===s?"bg-blue-600 text-white shadow-lg":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:s},s))})]}),e.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(se,{size:60})}),e.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] mb-4 flex items-center gap-2 relative z-10",children:[e.jsx(T,{size:14,className:"text-blue-400"})," Integrity Check"]}),e.jsx("div",{className:"space-y-3 relative z-10",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl border border-white/5",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-white/20 bg-transparent text-blue-500 focus:ring-0",onChange:s=>r("coliformDetected",s.target.checked)}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Biological Contaminants Detected?"})]})})]})]})]})]})},me=({data:l,onChange:b,t:g,isRtl:j})=>{const r=(s,h)=>b({...l,[s]:h});return e.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center gap-6 border-b border-slate-50 pb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-50 text-emerald-600 rounded-[1.5rem] flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform",children:e.jsx(B,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tighter",children:"Atmospheric Node Registry"}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Environmental Sensor Verification"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-slate-50 p-8 rounded-[2.5rem] border border-slate-100 flex flex-col items-center group",children:[e.jsx($,{size:24,className:"text-rose-500 mb-6 group-hover:rotate-12 transition-transform"}),e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Temp (Â°C)"}),e.jsx("input",{type:"number",step:"0.1",className:"w-full bg-white border border-slate-200 rounded-2xl px-4 py-4 text-center text-xl font-black outline-none focus:ring-8 focus:ring-blue-500/5 transition-all shadow-sm",value:l.temperature||"",onChange:s=>r("temperature",parseFloat(s.target.value)),placeholder:"24.5"})]}),e.jsxs("div",{className:"bg-slate-50 p-8 rounded-[2.5rem] border border-slate-100 flex flex-col items-center group",children:[e.jsx(T,{size:24,className:"text-blue-500 mb-6 group-hover:scale-110 transition-transform"}),e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Humidity (%)"}),e.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-2xl px-4 py-4 text-center text-xl font-black outline-none focus:ring-8 focus:ring-blue-500/5 transition-all shadow-sm",value:l.humidity||"",onChange:s=>r("humidity",parseFloat(s.target.value)),placeholder:"65"})]}),e.jsxs("div",{className:"bg-slate-50 p-8 rounded-[2.5rem] border border-slate-100 flex flex-col items-center group",children:[e.jsx(B,{size:24,className:"text-indigo-500 mb-6 group-hover:-translate-y-1 transition-transform"}),e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Vent Rate"}),e.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-2xl px-4 py-4 text-center text-xl font-black outline-none focus:ring-8 focus:ring-blue-500/5 transition-all shadow-sm",value:l.ventilation||"",onChange:s=>r("ventilation",parseFloat(s.target.value)),placeholder:"12.0"})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5",children:e.jsx(ae,{size:100})}),e.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.3em] mb-10 flex items-center gap-3 relative z-10",children:[e.jsx(V,{size:16,className:"text-blue-400"})," Advanced Gas Telemetry"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 relative z-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Ammonia (PPM)"}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black ${(l.ammoniaPpm||0)>25?"bg-rose-500 text-white":"bg-emerald-500/10 text-emerald-400"}`,children:l.ammoniaPpm||0})]}),e.jsx("input",{type:"range",min:"0",max:"100",className:"w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer accent-blue-500",value:l.ammoniaPpm||0,onChange:s=>r("ammoniaPpm",parseInt(s.target.value))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"CO2 (PPM)"}),e.jsx("span",{className:"bg-white/5 px-2 py-0.5 rounded text-[10px] font-black text-slate-300",children:l.co2Ppm||0})]}),e.jsx("input",{type:"range",min:"0",max:"5000",step:"100",className:"w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer accent-indigo-500",value:l.co2Ppm||0,onChange:s=>r("co2Ppm",parseInt(s.target.value))})]})]})]})]})},ge=({data:l,onChange:b,t:g,isRtl:j})=>{var s,h,w,k,C,d;const r=(x,f)=>{const u={...l};u.eggMetrics||(u.eggMetrics={}),u.eggMetrics[x]=f,["gradeA","gradeB","broken"].includes(x)&&(u.eggMetrics.count=(parseInt(u.eggMetrics.gradeA)||0)+(parseInt(u.eggMetrics.gradeB)||0)+(parseInt(u.eggMetrics.broken)||0)),b(u)};return e.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center gap-6 border-b border-slate-50 pb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-50 text-amber-600 rounded-[1.5rem] flex items-center justify-center shadow-inner group-hover:rotate-6 transition-transform",children:e.jsx(L,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tighter",children:"Yield Precision Registry"}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Detailed Egg Grading & Mass"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"bg-white border-2 border-blue-100 p-10 rounded-[3rem] shadow-xl shadow-blue-500/5",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest mb-4",children:"Aggregated Yield"}),e.jsx("h4",{className:"text-6xl font-black text-slate-900 tabular-nums",children:((s=l.eggMetrics)==null?void 0:s.count)||0}),e.jsxs("p",{className:"text-[11px] font-bold text-slate-400 mt-4 uppercase flex items-center gap-2",children:[e.jsx(K,{size:14,className:"text-emerald-500"})," Automated Sum Consensus"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6 p-6 bg-slate-50 border border-slate-100 rounded-[2rem] group hover:bg-white hover:border-blue-200 transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center shadow-sm text-emerald-500 font-black",children:"A"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Grade A (Premium)"}),e.jsx("input",{type:"number",className:"w-full bg-transparent border-none text-lg font-black outline-none",value:((h=l.eggMetrics)==null?void 0:h.gradeA)||"",onChange:x=>r("gradeA",parseInt(x.target.value)),placeholder:"0"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 p-6 bg-slate-50 border border-slate-100 rounded-[2rem] group hover:bg-white hover:border-amber-200 transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center shadow-sm text-amber-500 font-black",children:"B"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Grade B (Commercial)"}),e.jsx("input",{type:"number",className:"w-full bg-transparent border-none text-lg font-black outline-none",value:((w=l.eggMetrics)==null?void 0:w.gradeB)||"",onChange:x=>r("gradeB",parseInt(x.target.value)),placeholder:"0"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 p-6 bg-slate-50 border border-slate-100 rounded-[2rem] group hover:bg-white hover:border-rose-200 transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center shadow-sm text-rose-500 font-black",children:"X"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Broken / Damage"}),e.jsx("input",{type:"number",className:"w-full bg-transparent border-none text-lg font-black outline-none",value:((k=l.eggMetrics)==null?void 0:k.broken)||"",onChange:x=>r("broken",parseInt(x.target.value)),placeholder:"0"})]})]})]})]}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:e.jsx(ne,{size:100})}),e.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.3em] mb-10 flex items-center gap-3 relative z-10",children:[e.jsx(T,{size:16,className:"text-blue-400"})," Mass Metrology"]}),e.jsxs("div",{className:"space-y-8 relative z-10",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Total Weight (KG)"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-xl font-black outline-none focus:bg-white/10 transition-all",value:((C=l.eggMetrics)==null?void 0:C.totalWeightKg)||"",onChange:x=>r("totalWeightKg",parseFloat(x.target.value)),placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Avg Egg Mass (G)"}),e.jsx("input",{type:"number",step:"0.1",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-xl font-black outline-none focus:bg-white/10 transition-all",value:((d=l.eggMetrics)==null?void 0:d.avgWeightPerEgg)||"",onChange:x=>r("avgWeightPerEgg",parseFloat(x.target.value)),placeholder:"0.0"})]})]})]}),e.jsxs("div",{className:"p-8 bg-blue-50 border border-blue-100 rounded-[2.5rem] flex items-start gap-5",children:[e.jsx(V,{size:24,className:"text-blue-600 shrink-0 mt-1"}),e.jsx("p",{className:"text-[11px] font-bold text-blue-700 leading-loose uppercase",children:"Yield consistency check: Input grade distribution should match the total daily collection log for precision FCR calculations."})]})]})]})]})},he=[{id:"morning_eggs",label:"Morning Egg Collection",icon:e.jsx(L,{}),color:"text-amber-500 bg-amber-50",values:{type:"egg_collection",eggMetrics:{count:4800,gradeA:4600,gradeB:150,broken:50},reason:"daily_collection"}},{id:"standard_feed",label:"Standard Feed Delivery",icon:e.jsx(ie,{}),color:"text-blue-500 bg-blue-50",values:{type:"feed",feedMetrics:{purchasedKg:1e3,feedType:"Starter",supplier:"Standard Supplier"},reason:"purchase"}},{id:"water_audit",label:"Weekly Water Audit",icon:e.jsx(H,{}),color:"text-indigo-500 bg-indigo-50",values:{type:"water_reading",pH:7.2,hardness:120,freeChlorine:.5,source:"well"}},{id:"env_check",label:"Mid-Day Env Check",icon:e.jsx($,{}),color:"text-rose-500 bg-rose-50",values:{type:"environmental_reading",temperature:24.5,humidity:65,ventilation:12}}],ue=({onApply:l,isRtl:b})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx(O,{size:18,className:"text-blue-500"}),e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rapid Ingestion Presets"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:he.map(g=>e.jsxs("button",{onClick:()=>l(g.values),className:"p-5 bg-white border border-slate-200 rounded-2xl flex items-center gap-4 hover:border-blue-300 hover:shadow-lg transition-all group text-left",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform ${g.color}`,children:g.icon}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs font-black text-slate-800 uppercase truncate tracking-tight",children:g.label}),e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase mt-1",children:["Preset Vector: ",g.values.type.replace("_"," ")]})]})]},g.id))})]}),Fe=({onClose:l,onSubmit:b,flocks:g=[],t:j,api:r,editingMovement:s})=>{var G;const h=j.langToggle==="EN",w=()=>{const t=new Date;return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().slice(0,16)},[k,C]=m.useState([]),[d,x]=m.useState((s==null?void 0:s.type)||""),[f,u]=m.useState((s==null?void 0:s.flockId)||((G=g[0])==null?void 0:G._id)||""),[S,q]=m.useState((s==null?void 0:s.cycleId)||""),[M,Y]=m.useState(null),[v,y]=m.useState({}),[be,Q]=m.useState([]),[fe,P]=m.useState(!1),[U,_]=m.useState(!1),[A,E]=m.useState(!1),[z,F]=m.useState(""),[I,W]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const o=(await r.getMovementInputSchema()).data||{},i=Object.entries(o).map(([c,p])=>({id:c,label:p.label||c,description:p.description}));C(i),!d&&i.length>0&&x(i[0].id)}catch(a){console.error("Failed to load vector types",a)}})()},[r,d]),m.useEffect(()=>{(async()=>{if(f){P(!0);try{const o=((await r.getCycles(f)).cycles||[]).sort((i,c)=>c.cycleId.localeCompare(i.cycleId));if(Q(o),o.length>0&&!S){const i=o.find(c=>c.status==="active");q(i?i.cycleId:o[0].cycleId)}}catch(a){console.error(a)}finally{P(!1)}}})()},[f,r,S]),m.useEffect(()=>{(async()=>{if(d){_(!0),F("");try{const a=await r.getMovementInputSchema(d);Y(a.data),y(s||{date:w(),confidence:"high"})}catch{F("Schema sync failed")}finally{_(!1)}}})()},[d,r,s]);const X=(t,a)=>t.split(".").reduce((o,i)=>o&&o[i],a),N=m.useCallback((t,a)=>{y(o=>{const i={...o},c=t.split(".");let p=i;for(let n=0;n<c.length-1;n++)p[c[n]]={...p[c[n]]||{}},p=p[c[n]];return p[c[c.length-1]]=a,i})},[]),Z=t=>{y({...v,...t}),x(t.type||d),W(!1)},J=async t=>{var o;E(!0),F("");let a={...v,type:d};if(d==="mortality"&&((o=a.birdMetrics)!=null&&o.count)&&(a.mortalityMetrics={count:parseInt(a.birdMetrics.count)||0}),d==="weight"||d==="weight_measurement"){a.weightMetrics||(a.weightMetrics={});const i=parseFloat(a.weightMetrics.averageWeightGrams),c=parseFloat(a.weightMetrics.startWeightGrams)||0,p=parseFloat(a.weightMetrics.endWeightGrams)||0,n=parseFloat(a.weightMetrics.grams)||0;(!i||isNaN(i))&&(c>0&&p>0?a.weightMetrics.averageWeightGrams=(c+p)/2:c>0?a.weightMetrics.averageWeightGrams=c:p>0?a.weightMetrics.averageWeightGrams=p:n>0&&(a.weightMetrics.averageWeightGrams=n))}try{s?await r.updateMovement(f,S,s._id,a):await r.createMovement(f,S,a),l(),b(a)}catch(i){F(i.message||"Registry communication failure")}finally{E(!1)}},R=t=>{var i,c,p;const a=X(t.name,v)||"",o="w-full bg-white border border-slate-200 rounded-2xl px-6 py-4 text-sm font-black outline-none focus:ring-8 focus:ring-blue-500/5 transition-all shadow-sm";return e.jsxs("div",{className:"space-y-2 group",children:[e.jsxs("div",{className:"flex justify-between items-center ml-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:t.label}),t.example&&e.jsxs("span",{className:"text-[8px] font-bold text-slate-300 uppercase tracking-tight",children:["Example: ",t.example]})]}),t.type==="select"?e.jsxs("select",{className:o,value:a,onChange:n=>N(t.name,n.target.value),children:[e.jsx("option",{value:"",children:"Select Option..."}),(i=t.options)==null?void 0:i.map(n=>e.jsx("option",{value:n,children:n.replace(/_/g," ").toUpperCase()},n))]}):t.type==="textarea"?e.jsx("textarea",{className:`${o} min-h-[100px] font-medium leading-relaxed`,placeholder:t.placeholder,value:a,onChange:n=>N(t.name,n.target.value)}):t.type==="datetime"?e.jsx("input",{type:"datetime-local",className:o,value:a,onChange:n=>N(t.name,n.target.value)}):t.type==="date"?e.jsx("input",{type:"date",className:o,value:a,onChange:n=>N(t.name,n.target.value)}):e.jsx("input",{type:t.type==="number"?"number":"text",className:o,placeholder:t.placeholder,min:(c=t.validation)==null?void 0:c.min,max:(p=t.validation)==null?void 0:p.max,value:a,onChange:n=>N(t.name,t.type==="number"?parseFloat(n.target.value):n.target.value)}),t.hint&&e.jsx("p",{className:"text-[9px] font-medium text-slate-400 italic ml-1",children:t.hint})]},t.name)},ee=["water_reading","environmental_reading"].includes(d);return e.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[100] flex items-center justify-center p-4 overflow-y-auto",dir:h?"rtl":"ltr",children:e.jsxs("div",{className:"bg-white rounded-[4rem] shadow-2xl w-full max-w-6xl my-auto animate-in zoom-in-95 duration-500 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-10 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-900 text-white rounded-2xl flex items-center justify-center shadow-xl",children:e.jsx(xe,{size:28})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase tracking-tighter leading-none",children:"Intelligence Registry"}),e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mt-3",children:["VECTOR PROTOCOL: ",d.replace(/_/g," ").toUpperCase()]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>W(!I),className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${I?"bg-blue-600 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600"}`,children:[e.jsx(O,{size:16})," Templates"]}),e.jsx("button",{onClick:l,className:"p-4 bg-white hover:bg-rose-50 text-slate-400 hover:text-rose-500 rounded-2xl transition-all shadow-sm",children:e.jsx(le,{size:24})})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row h-[75vh] overflow-hidden",children:[e.jsxs("div",{className:"w-full lg:w-80 bg-slate-50 border-r border-slate-100 p-10 space-y-10 overflow-y-auto no-scrollbar shrink-0",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block ml-1",children:"Fleet Node"}),e.jsx("select",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-xs font-black uppercase outline-none shadow-sm",value:f,onChange:t=>u(t.target.value),children:g.map(t=>e.jsx("option",{value:t._id,children:t.name},t._id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block ml-1",children:"Vector Type"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.map(t=>e.jsx("button",{type:"button",onClick:()=>x(t.id),className:`text-left px-5 py-4 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${d===t.id?"bg-blue-600 text-white shadow-xl":"bg-white text-slate-400 border border-slate-200 hover:bg-slate-100"}`,children:t.label},t.id))})]})]}),e.jsx("div",{className:"flex-1 p-14 overflow-y-auto no-scrollbar bg-white relative",children:U?e.jsx("div",{className:"h-full flex flex-col items-center justify-center opacity-40",children:e.jsx(D,{size:48,className:"animate-spin text-blue-600"})}):I?e.jsx("div",{className:"animate-in fade-in duration-300",children:e.jsx(ue,{onApply:Z,isRtl:h})}):e.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500 pb-20",children:[z&&e.jsxs("div",{className:"bg-rose-50 text-rose-600 p-6 rounded-2xl border border-rose-100 flex items-center gap-4",children:[e.jsx(re,{size:24}),e.jsx("p",{className:"text-xs font-black uppercase tracking-tight",children:Array.isArray(z)?z.join(", "):z})]}),d==="water_reading"&&e.jsx(pe,{data:v,onChange:y,t:j,isRtl:h}),d==="environmental_reading"&&e.jsx(me,{data:v,onChange:y,t:j,isRtl:h}),d==="egg_collection"&&e.jsx(ge,{data:v,onChange:y,t:j,isRtl:h}),!ee&&M&&e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"bg-slate-50 p-10 rounded-[3rem] border border-slate-100 shadow-inner",children:[e.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest mb-10 flex items-center gap-3",children:[e.jsx(ce,{className:"text-blue-600",size:18})," Primary Protocol (Required)"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:M.requiredFields.map(t=>R(t))})]}),M.optionalFields.length>0&&e.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border-2 border-dashed border-slate-100",children:[e.jsxs("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-10 flex items-center gap-3",children:[e.jsx(oe,{className:"text-slate-300",size:18})," Contextual Metadata (Optional)"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:M.optionalFields.map(t=>R(t))})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-10 pt-10 border-t border-slate-100",children:[e.jsx("div",{className:"flex-1 flex bg-slate-100 p-1.5 rounded-2xl shadow-inner min-w-[300px]",children:["high","medium","low"].map(t=>e.jsxs("button",{type:"button",onClick:()=>N("confidence",t),className:`flex-1 py-4 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${v.confidence===t?"bg-white text-blue-600 shadow-xl":"text-slate-400 hover:text-slate-600"}`,children:[t," Confidence"]},t))}),e.jsxs("div",{className:"flex gap-6 flex-[2] min-w-full sm:min-w-[400px]",children:[e.jsx("button",{type:"button",onClick:l,className:"flex-1 py-6 border-2 border-slate-100 rounded-2xl text-[12px] font-black uppercase tracking-[0.2em] text-slate-400 hover:bg-slate-50 transition-all",children:"Discard"}),e.jsx("button",{onClick:()=>J(),disabled:A,className:"flex-[2] py-6 bg-slate-900 text-white rounded-2xl text-[12px] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-black transition-all flex items-center justify-center gap-4",children:A?e.jsx(D,{size:24,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(K,{size:24})," Commit to Registry"]})})]})]})]})})]})]})})};export{Fe as default};
