import{c as m,r as i,j as e,L as u,g,f as b}from"./index-Dfm8v7ej.js";import{G as x}from"./git-compare-ePQxR8GP.js";import{C as f}from"./circle-check-VEIAJ82F.js";import{T as j}from"./trending-up-kJZdgiUt.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],N=m("award",v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],w=m("trophy",k),R=({flockId:l,api:n,t:y,isRtl:B,flocks:C})=>{const[t,p]=i.useState(null),[h,d]=i.useState(!1),[c,z]=i.useState("2025-1");return i.useEffect(()=>{(async()=>{if(l!=="all"){d(!0);try{const a=await n.getBenchmark(l,c);p(a.data)}catch(a){console.error("Benchmarking failed",a)}finally{d(!1)}}})()},[l,c,n]),l==="all"?e.jsxs("div",{className:"h-[40vh] flex flex-col items-center justify-center text-slate-400 opacity-40",children:[e.jsx(x,{size:64,strokeWidth:1}),e.jsx("p",{className:"mt-4 text-xs font-black uppercase tracking-[0.3em]",children:"Cross-node comparison requires a focal node"})]}):e.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsx("div",{className:"flex items-center justify-between px-2",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center shadow-lg shadow-amber-500/10",children:e.jsx(w,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tighter",children:"Global Benchmarking Hub"}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Fleet Percentile Analytics"})]})]})}),h?e.jsx("div",{className:"h-[50vh] flex items-center justify-center",children:e.jsx(u,{className:"animate-spin text-blue-600",size:48})}):t&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3rem] p-12 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-12",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Performance Matrix vs. Farm Average"}),e.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest tabular-nums bg-blue-50 px-4 py-2 rounded-xl",children:["Target: ",c]})]}),e.jsx("div",{className:"space-y-12",children:[{label:"Egg Production per Bird",value:t.flockMetrics.normalized.totalEggs_perBird,avg:t.farmAverages.totalEggs_perBird.mean,unit:"Eggs"},{label:"Revenue per Bird",value:t.flockMetrics.normalized.totalRevenue_perBird,avg:t.farmAverages.totalRevenue_perBird.mean,unit:"$"},{label:"Cost per Bird",value:t.flockMetrics.normalized.totalCost_perBird,avg:t.farmAverages.totalCost_perBird.mean,unit:"$",inverse:!0}].map((s,a)=>{const r=(s.value-s.avg)/s.avg*100,o=s.inverse?r<0:r>0;return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1",children:s.label}),e.jsxs("h4",{className:"text-3xl font-black text-slate-900 tabular-nums",children:[s.value.toLocaleString()," ",e.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:s.unit})]})]}),e.jsxs("div",{className:`text-right ${o?"text-emerald-500":"text-rose-500"}`,children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest mb-1",children:"Variance"}),e.jsxs("p",{className:"text-lg font-black tabular-nums",children:[r>0?"+":"",r.toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"relative h-3 bg-slate-100 rounded-full overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 h-full rounded-full transition-all duration-1000 ${o?"bg-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.4)]":"bg-rose-500"}`,style:{width:`${Math.min(100,s.value/(s.avg*1.5)*100)}%`}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-slate-900 shadow-xl",style:{left:`${s.avg/(s.avg*1.5)*100}%`}})]}),e.jsxs("div",{className:"flex justify-between text-[9px] font-black text-slate-400 uppercase tracking-widest px-1",children:[e.jsx("span",{children:"Registry Node"}),e.jsx("span",{children:"Farm Baseline Mean"})]})]},a)})})]}),e.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-12 text-white shadow-2xl",children:[e.jsxs("h4",{className:"text-xs font-black uppercase tracking-[0.2em] mb-10 flex items-center gap-4 text-slate-400",children:[e.jsx(N,{className:"text-amber-400"})," Registry Ranking Insights"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.insights.map((s,a)=>e.jsxs("div",{className:"flex gap-4 p-6 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all",children:[e.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center shrink-0",children:s.includes("ðŸŸ¢")?e.jsx(f,{size:18,className:"text-emerald-400"}):e.jsx(j,{size:18,className:"text-blue-400"})}),e.jsx("p",{className:"text-xs font-black leading-relaxed uppercase tracking-tight text-slate-300",children:s.replace(/ðŸŸ¢|â­|âœ…/g,"")})]},a))})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[3rem] p-10 shadow-sm text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-50 text-blue-600 rounded-[2.5rem] flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx(g,{size:48})}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Overall Node Percentile"}),e.jsx("h4",{className:"text-7xl font-black text-slate-900 tracking-tighter tabular-nums",children:t.ranking.overallPercentile}),e.jsx("p",{className:"text-xs font-black text-blue-600 uppercase mt-4",children:"Top 18% of fleet"}),e.jsxs("div",{className:"mt-10 space-y-4 pt-10 border-t border-slate-50",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Competitive Nodes"}),e.jsx("span",{className:"text-sm font-black text-slate-800",children:t.ranking.metricScores.totalEggs_perBird.totalComparable})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Nodes Outperformed"}),e.jsx("span",{className:"text-sm font-black text-emerald-600",children:t.ranking.metricScores.totalEggs_perBird.betterThanCount})]})]})]}),e.jsxs("div",{className:"bg-indigo-600 rounded-[3rem] p-10 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 rotate-12",children:e.jsx(x,{size:80})}),e.jsx("h4",{className:"text-xs font-black uppercase tracking-[0.2em] mb-8 flex items-center gap-3 relative z-10",children:"Cross-Flock Benchmarks"}),e.jsx("div",{className:"space-y-6 relative z-10",children:t.comparisonFlocks.map((s,a)=>e.jsxs("div",{className:"p-5 bg-white/10 rounded-2xl border border-white/5 flex items-center justify-between group cursor-pointer hover:bg-white/20 transition-all",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-indigo-200 uppercase tracking-widest mb-1",children:s.flockName}),e.jsxs("p",{className:"text-base font-black tabular-nums",children:[s.normalized.totalEggs_perBird," EPPB"]})]}),e.jsx(b,{size:18,className:"text-white/40 group-hover:text-white transition-all"})]},a))}),e.jsx("button",{className:"w-full mt-10 py-4 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Deep Comparison Suite"})]})]})]})]})};export{R as default};
