import{r as i,j as e,A as m,L as g,g as f,d as j,t as b,Z as N}from"./index-Boji9h6s.js";import{T as v}from"./trending-up-CyoQ3ryj.js";import{C as p}from"./circle-check-FUip_Tmw.js";import{P as w}from"./package-XmwZcQ4r.js";import{S as k}from"./scale-B5L0ggb0.js";import{A as y}from"./award-CCZgAN9c.js";const E=({flockId:a,cycleId:l,api:r,t:z,isRtl:C})=>{var n,d,x;const[s,h]=i.useState(null),[u,c]=i.useState(!1);return i.useEffect(()=>{(async()=>{if(!(!r.isValidObjectId(a)||!l)){c(!0);try{const t=await r.getCycleAnalysisV2(a,l);h(t.data)}catch(t){console.error(t)}finally{c(!1)}}})()},[a,l,r]),!r.isValidObjectId(a)||!l?e.jsxs("div",{className:"h-[40vh] flex flex-col items-center justify-center text-slate-400 opacity-40",children:[e.jsx(m,{size:64,strokeWidth:1}),e.jsx("p",{className:"mt-4 text-[10px] font-black uppercase tracking-[0.4em]",children:"Select a specific Node Lifecycle to begin deep analysis"})]}):u?e.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center opacity-40",children:[e.jsx(g,{size:48,className:"animate-spin text-emerald-600 mb-6"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"Crunching Cycle Performance..."})]}):s?e.jsx("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-6 duration-700",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 bg-white border border-slate-200 rounded-[3.5rem] p-10 lg:p-14 shadow-sm hover:shadow-2xl transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-12 border-b border-slate-50 pb-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-14 h-14 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(f,{size:28})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Production Logic"}),e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Growth Curve Analysis"})]})]}),e.jsxs("span",{className:"px-4 py-1.5 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest",children:["Day ",s.cycleDurationDays]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-12 mb-12",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Aggregate Yield"}),e.jsxs("h4",{className:"text-4xl font-black text-slate-900 tabular-nums",children:[(n=s.production.totalEggsProduced)==null?void 0:n.toLocaleString()," ",e.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Eggs"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"EPPB Velocity"}),e.jsxs("h4",{className:"text-4xl font-black text-emerald-600 tabular-nums",children:[s.production.eggProductionPerBird," ",e.jsx("span",{className:"text-xs uppercase",children:"Target"})]})]})]}),e.jsxs("div",{className:"p-8 bg-slate-50 rounded-3xl border border-slate-100 flex items-center justify-between group-hover:bg-white transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(v,{size:20,className:"text-emerald-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-800 uppercase",children:"Growth Rate"}),e.jsxs("p",{className:"text-lg font-black text-slate-900",children:[s.production.growthRate,"% Daily Acceleration"]})]})]}),e.jsx(p,{size:24,className:"text-emerald-500"})]})]}),e.jsxs("div",{className:"xl:col-span-2 bg-slate-900 text-white rounded-[3.5rem] p-10 lg:p-14 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(j,{size:120})}),e.jsxs("div",{className:"flex items-center justify-between mb-12 border-b border-white/5 pb-8 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-14 h-14 bg-white/10 text-emerald-400 rounded-2xl flex items-center justify-center",children:e.jsx(m,{size:28})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Survival Integrity"}),e.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Biosecurity Consensus"})]})]}),e.jsxs("div",{className:"bg-emerald-500 text-white px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-500/20",children:["Score: ",s.health.healthScore,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-12 mb-12 relative z-10",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Mortality Ratio"}),e.jsxs("h4",{className:"text-4xl font-black text-rose-400 tabular-nums",children:[s.health.mortalityRate,"%"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Disease Incidents"}),e.jsxs("h4",{className:"text-4xl font-black tabular-nums",children:[s.health.diseaseIncidents," ",e.jsx("span",{className:"text-xs uppercase text-slate-500",children:"Events"})]})]})]}),e.jsxs("div",{className:"p-8 bg-white/5 rounded-3xl border border-white/5 flex items-center justify-between group-hover:bg-white/10 transition-colors relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(p,{size:20,className:"text-emerald-400"})}),e.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:"Clean Lifecycle Status"})]}),e.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:"Verified"})]})]}),e.jsxs("div",{className:"xl:col-span-3 bg-white border border-slate-200 rounded-[3rem] p-12 shadow-sm grid grid-cols-1 md:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[e.jsx(w,{size:18,className:"text-amber-500"}),e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Feed Conversion (FCR)"})]}),e.jsx("h3",{className:"text-5xl font-black tabular-nums tracking-tighter",children:s.feed.fcr}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-relaxed",children:"Precision conversion based on current mass samples."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[e.jsx(k,{size:18,className:"text-blue-500"}),e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Waste Percentage"})]}),e.jsxs("h3",{className:"text-5xl font-black tabular-nums tracking-tighter text-amber-600",children:[(s.feed.feedWaste/s.feed.totalFeedPurchased*100).toFixed(1),"%"]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-relaxed",children:"Cross-module leakage detection active."})]}),e.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 flex flex-col justify-center",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Feed Ingested (KG)"}),e.jsx("h4",{className:"text-3xl font-black text-slate-900 tabular-nums",children:(d=s.feed.totalFeedConsumed)==null?void 0:d.toLocaleString()}),e.jsx("div",{className:"w-full bg-slate-200 h-1.5 mt-4 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-500",style:{width:`${s.feed.totalFeedConsumed/s.feed.totalFeedPurchased*100}%`}})})]})]}),e.jsxs("div",{className:"xl:col-span-1 bg-blue-600 text-white rounded-[3rem] p-10 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-125 transition-transform duration-1000",children:e.jsx(b,{size:100})}),e.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.3em] mb-10 relative z-10 flex items-center gap-3",children:[e.jsx(N,{size:18})," Performance Intel"]}),e.jsx("div",{className:"space-y-6 relative z-10",children:(x=s.insights)==null?void 0:x.slice(0,3).map((o,t)=>e.jsxs("div",{className:"flex gap-4 items-start group/insight",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-300 rounded-full mt-2 shrink-0 group-hover/insight:scale-150 transition-transform"}),e.jsx("p",{className:"text-xs font-bold leading-relaxed opacity-90",children:o})]},t))}),e.jsxs("button",{className:"w-full mt-12 py-4 bg-white/10 border border-white/20 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-white/20 transition-all flex items-center justify-center gap-2 relative z-10",children:[e.jsx(y,{size:14})," Full Certification Audit"]})]})]})}):null};export{E as default};
