import{r as i,j as e,A as b,L as j,p as x,d as g,t as f,Z as u}from"./index-BlS2-adh.js";import{T as N}from"./trending-up-X983Lwjd.js";import{S as v}from"./scale-X-Oesm-K.js";import{P as y}from"./package-DlWeqhoU.js";import{C as k}from"./clock-C5NRjOsN.js";const E=({flockId:l,api:n,t:w,isRtl:C})=>{const[s,o]=i.useState(null),[p,r]=i.useState(!1),[c,d]=i.useState(""),[m,h]=i.useState([]);return i.useEffect(()=>{l!=="all"&&n.getCycles(l).then(t=>{var a;h(t.cycles||[]),((a=t.cycles)==null?void 0:a.length)>0&&d(t.cycles[0].cycleId)})},[l,n]),i.useEffect(()=>{(async()=>{if(!(!c||l==="all")){r(!0);try{const a=await n.getCycleAnalysis(l,c);o(a.data)}catch(a){console.error("Cycle sync failed",a)}finally{r(!1)}}})()},[l,c,n]),l==="all"||!c?e.jsxs("div",{className:"h-[40vh] flex flex-col items-center justify-center text-slate-400 opacity-40",children:[e.jsx(b,{size:64,strokeWidth:1}),e.jsx("p",{className:"mt-4 text-xs font-black uppercase tracking-[0.3em]",children:"Initialize a specific node lifecycle"})]}):e.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tighter",children:["Cycle Intelligence ",c]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:[s==null?void 0:s.breed," Node"]})})]}),e.jsx("select",{value:c,onChange:t=>d(t.target.value),className:"bg-white border border-slate-200 rounded-xl px-4 py-2 text-xs font-black uppercase outline-none focus:ring-4 focus:ring-blue-500/5",children:m.map(t=>e.jsxs("option",{value:t.cycleId,children:[t.cycleId," â€¢ ",t.status]},t.cycleId))})]}),p?e.jsx("div",{className:"h-[50vh] flex items-center justify-center",children:e.jsx(j,{className:"animate-spin text-blue-600",size:48})}):s&&e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 bg-white border border-slate-200 rounded-[3rem] p-10 shadow-sm space-y-10",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-2xl",children:e.jsx(N,{size:24})}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Phase 1: Yield Dynamics"})]}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[s.phase1_production.productionTrend," Trend"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Cycle Aggregate Produced"}),e.jsxs("p",{className:"text-3xl font-black text-slate-900",children:[s.phase1_production.eggsProduced.toLocaleString()," ",e.jsx("span",{className:"text-xs text-slate-400 uppercase",children:"Eggs"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Precision Yield Rate"}),e.jsxs("p",{className:"text-3xl font-black text-emerald-600",children:[(100-s.phase1_production.eggsQuality.brokeRate).toFixed(2),"%"]})]})]}),e.jsx("div",{className:"bg-slate-50 rounded-2xl p-6 grid grid-cols-4 gap-4",children:Object.entries(s.phase1_production.eggWeight.distribution).map(([t,a])=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:t}),e.jsxs("p",{className:"text-sm font-black text-slate-700",children:[a,"%"]})]},t))})]}),e.jsxs("div",{className:"xl:col-span-2 bg-slate-900 text-white rounded-[3rem] p-10 shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5",children:e.jsx(x,{size:120})}),e.jsxs("div",{className:"flex items-center justify-between mb-10 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/10 text-white rounded-2xl",children:e.jsx(x,{size:24})}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Phase 2: Economic Engine"})]}),e.jsxs("span",{className:"px-4 py-1 bg-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:["ROI: ",s.phase2_economics.roi,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-10 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Net Profit Forecast"}),e.jsxs("p",{className:"text-4xl font-black text-white",children:["$",s.phase2_economics.totalProfit.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Breakeven Velocity"}),e.jsxs("p",{className:"text-4xl font-black text-blue-400",children:["Day ",s.phase2_economics.breakEvenDay]})]})]}),e.jsx("div",{className:"mt-10 pt-10 border-t border-white/10 grid grid-cols-5 gap-4 relative z-10",children:Object.entries(s.phase2_economics.breakdownByCategory).map(([t,a])=>e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase mb-1",children:t}),e.jsxs("p",{className:"text-xs font-black text-slate-300",children:["$",a.toLocaleString()]})]},t))})]}),e.jsxs("div",{className:"xl:col-span-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(v,{size:14})," Phase 3: Qualitative"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Quality Score"}),e.jsxs("span",{className:"text-sm font-black",children:[s.phase3_eggQuality.qualityScore,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-blue-500 h-full",style:{width:`${s.phase3_eggQuality.qualityScore}%`}})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Color Consistency"}),e.jsx("span",{className:"text-xs font-black text-emerald-600 uppercase",children:s.phase3_eggQuality.colorConsistency})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(g,{size:14})," Phase 4: Biosecurity"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Survival Logic"}),e.jsxs("span",{className:"text-sm font-black",children:[100-s.phase4_health.mortalityRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"FCR Coefficient"}),e.jsx("span",{className:"text-sm font-black text-indigo-600",children:s.phase4_health.feedConversionRatio})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"FCR Variance"}),e.jsxs("span",{className:"text-xs font-black text-amber-600",children:[s.phase4_health.fcrDeviation,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-[2.5rem] shadow-sm",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(y,{size:14})," Phase 6: Logistics"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Sourcing Consistency"}),e.jsxs("span",{className:"text-sm font-black",children:[s.phase6_supplyChain.qualityConsistency,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"OTD Performance"}),e.jsxs("span",{className:"text-sm font-black text-emerald-600",children:[s.phase6_supplyChain.onTimeDeliveryRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Suppliers in Loop"}),e.jsxs("span",{className:"text-sm font-black",children:[s.phase6_supplyChain.suppliers," Nodes"]})]})]})]})]}),e.jsxs("div",{className:"bg-blue-600 rounded-[3rem] p-10 text-white shadow-2xl space-y-10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 rotate-12",children:e.jsx(f,{size:100})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-black uppercase tracking-[0.2em] mb-8 flex items-center gap-3",children:[e.jsx(u,{size:18})," Phase 8: Sentinel Intel"]}),e.jsx("div",{className:"space-y-6",children:s.phase8_insights.map((t,a)=>e.jsxs("div",{className:"flex gap-4 items-start bg-white/10 p-4 rounded-2xl border border-white/5 group hover:bg-white/20 transition-all",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-300 rounded-full mt-2 shrink-0"}),e.jsx("p",{className:"text-xs font-bold leading-relaxed",children:t})]},a))})]}),e.jsxs("div",{className:"pt-8 border-t border-white/10",children:[e.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] mb-6 flex items-center gap-2 text-blue-200",children:[e.jsx(k,{size:14})," Predictive Forecast"]}),e.jsxs("div",{className:"p-5 bg-slate-900 rounded-2xl space-y-2 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Est. Sale Timing"}),e.jsx("p",{className:"text-sm font-black",children:s.predictiveInsights.saleRecommendation.timing}),e.jsxs("p",{className:"text-[10px] font-bold text-emerald-400",children:["Confidence: ",(s.predictiveInsights.saleRecommendation.confidence*100).toFixed(0),"%"]})]})]})]})]})]})};export{E as default};
