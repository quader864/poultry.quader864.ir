import{c as N,r as i,j as e,f,B as b,L as j,k as T,X as _}from"./index-eJmW9gB0.js";import{S as A}from"./search-D_N2dblv.js";import{S as M}from"./save-CCRvOPqh.js";import{C as B}from"./calendar-C2M5HCea.js";import{T as E}from"./trash-2-64vdu3fW.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],P=N("archive",$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],q=N("pen-line",R),H=({flocks:y,onUpdate:v,onArchive:w,onDelete:k,onCreate:C,t:s})=>{const[x,z]=i.useState(""),[S,p]=i.useState(null),[c,u]=i.useState({}),[F,o]=i.useState(!1),[m,d]=i.useState(!1),h=()=>new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Tehran"}).format(new Date),[a,l]=i.useState({name:"",capacity:5e3,startDate:h(),breed:"",location:""}),g=y.filter(t=>{var n;return t.name.toLowerCase().includes(x.toLowerCase())||((n=t.breed)==null?void 0:n.toLowerCase().includes(x.toLowerCase()))}),L=async t=>{d(!0);try{await v(t,c),p(null)}finally{d(!1)}},D=async t=>{t.preventDefault(),d(!0);try{await C(a),o(!1),l({name:"",capacity:5e3,startDate:h(),breed:"",location:""})}finally{d(!1)}},r=s.langToggle==="EN";return e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative group flex-1 max-w-md",children:[e.jsx(A,{className:`absolute ${r?"right-4":"left-4"} top-1/2 -translate-y-1/2 text-slate-400`,size:18}),e.jsx("input",{type:"text",placeholder:r?"جستجوی گله...":"Search flocks...",className:`w-full ${r?"pr-12 pl-4":"pl-12 pr-4"} py-3 bg-white border border-slate-200 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm font-medium`,value:x,onChange:t=>z(t.target.value)})]}),e.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-[0.15em] shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all flex items-center justify-center gap-3",children:[e.jsx(f,{size:18})," ",s.addFlock]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(t=>e.jsxs("div",{className:"group bg-white rounded-[2rem] border border-slate-200 p-6 shadow-sm hover:shadow-2xl hover:border-blue-300 transition-all duration-500 flex flex-col relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 ${r?"left-0":"right-0"} w-24 h-24 bg-blue-50 rounded-full -translate-y-12 translate-x-12 opacity-50 group-hover:scale-150 transition-transform duration-700`}),e.jsxs("div",{className:"flex justify-between items-start mb-6 z-10",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/30 group-hover:rotate-12 transition-transform duration-500",children:e.jsx(b,{size:28})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${t.status==="active"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-400 border-slate-100"}`,children:t.status})})]}),S===t._id?e.jsxs("div",{className:"space-y-4 z-10 animate-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Name"}),e.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 text-sm font-bold focus:ring-2 focus:ring-blue-500 outline-none",value:c.name||t.name,onChange:n=>u({...c,name:n.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Capacity"}),e.jsx("input",{type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 text-sm font-bold focus:ring-2 focus:ring-blue-500 outline-none",value:c.capacity||t.capacity,onChange:n=>u({...c,capacity:Number(n.target.value)})})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:()=>L(t._id),className:"flex-1 py-3 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2",children:m?e.jsx(j,{className:"animate-spin",size:14}):e.jsxs(e.Fragment,{children:[e.jsx(M,{size:14})," Save"]})}),e.jsx("button",{onClick:()=>p(null),className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Cancel"})]})]}):e.jsxs("div",{className:"z-10 flex flex-col flex-1",children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight mb-2 group-hover:text-blue-600 transition-colors",children:t.name}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[e.jsx(T,{size:14,className:"text-blue-400"}),e.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-tight",children:[t.capacity.toLocaleString()," Birds Capacity"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[e.jsx(B,{size:14,className:"text-indigo-400"}),e.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-tight",children:["Started: ",new Date(t.startDate).toLocaleDateString(r?"fa-IR":"en-US",{timeZone:"Asia/Tehran"})]})]}),t.breed&&e.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[e.jsx(b,{size:14,className:"text-emerald-400"}),e.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-tight",children:["Breed: ",t.breed]})]})]}),e.jsxs("div",{className:"mt-auto flex flex-wrap items-center gap-4 pt-5 border-t border-slate-50",children:[e.jsxs("button",{onClick:()=>{p(t._id),u(t)},className:"flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest text-blue-600 hover:bg-blue-50 px-2 py-1.5 rounded-lg transition-all",children:[e.jsx(q,{size:14})," ",s.editFlock]}),e.jsxs("button",{onClick:()=>w(t._id),className:"flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest text-amber-600 hover:bg-amber-50 px-2 py-1.5 rounded-lg transition-all",children:[e.jsx(P,{size:14})," ",s.archiveFlock]}),e.jsxs("button",{onClick:()=>k(t._id),className:"flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest text-rose-600 hover:bg-rose-50 px-2 py-1.5 rounded-lg transition-all ml-auto",children:[e.jsx(E,{size:14})," Delete"]})]})]})]},t._id))}),F&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",dir:r?"rtl":"ltr",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:s.addFlock}),e.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-400",children:e.jsx(_,{size:20})})]}),e.jsxs("form",{onSubmit:D,className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-2 space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:s.flockName}),e.jsx("input",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3.5 text-sm font-bold focus:ring-4 focus:ring-blue-500/10 outline-none",placeholder:"ALPHA-FLOCK-01",value:a.name,onChange:t=>l({...a,name:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:s.capacity}),e.jsx("input",{type:"number",required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3.5 text-sm font-bold outline-none",value:a.capacity,onChange:t=>l({...a,capacity:Number(t.target.value)})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:[s.startDate," (Tehran)"]}),e.jsx("input",{type:"date",required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3.5 text-sm font-bold outline-none",value:a.startDate,onChange:t=>l({...a,startDate:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:s.breed}),e.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3.5 text-sm font-bold outline-none",placeholder:"Ross 308",value:a.breed,onChange:t=>l({...a,breed:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:s.location}),e.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3.5 text-sm font-bold outline-none",placeholder:"Building 04, North Wing",value:a.location,onChange:t=>l({...a,location:t.target.value})})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-4 border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500",children:s.cancel}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-2",children:m?e.jsx(j,{className:"animate-spin",size:16}):e.jsxs(e.Fragment,{children:[e.jsx(f,{size:16})," Create Flock"]})})]})]})]})}),g.length===0&&e.jsxs("div",{className:"col-span-full py-40 flex flex-col items-center justify-center text-center opacity-30",children:[e.jsx(b,{size:80,className:"text-slate-300 mb-6",strokeWidth:1}),e.jsx("h3",{className:"text-xl font-black text-slate-400 uppercase tracking-[0.2em]",children:"Zero Managed Nodes"}),e.jsx("p",{className:"text-sm font-bold text-slate-300 uppercase mt-2",children:"Provision your first flock to begin telemetry."})]})]})};export{H as default};
